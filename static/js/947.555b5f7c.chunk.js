"use strict";(self.webpackChunknew_venture=self.webpackChunknew_venture||[]).push([[947],{5323:(e,s,n)=>{n.r(s),n.d(s,{default:()=>E});var r=n(5043),i=n(1563),l=n(1637),a=n(5865),t=n(6446),c=n(1906),o=n(9650),d=n(3336),h=n(1806),x=n(4882),A=n(8076),j=n(2420),u=n(3460),m=n(35),g=n(6600),p=n(5316),y=n(5795),v=n(9347),C=n(5540),f=n(3471),k=n(2505),w=n(6349),S=(n(1288),n(579));const E=function(){const[e,s]=(0,r.useState)([]),[n,E]=(0,r.useState)(!0),[I,_]=(0,r.useState)(null),[b,B]=(0,r.useState)(!1),[D,N]=(0,r.useState)(!1),[G,P]=(0,r.useState)(!1),[T,W]=(0,r.useState)(null),[q,z]=(0,r.useState)(null),[J,M]=(0,r.useState)(null),[F,O]=(0,r.useState)({open:!1,message:"",severity:"success"}),[U,X]=(0,r.useState)("");if((0,r.useEffect)((()=>{(async()=>{try{const e=await(0,i.E0)();s(e[0].banner_images),E(!1)}catch(I){_(I.message),E(!1)}})()}),[]),n)return(0,S.jsx)(l.A,{});if(I)return(0,S.jsxs)(a.A,{color:"error",children:["Error: ",I]});const Z=e=>{const s=e.target.files[0];return["image/jpeg","image/png","image/jpg"].includes(s.type)?s.size>20971520?(O({open:!0,message:"File size exceeds 20MB limit.",severity:"error"}),M(null),void X("")):(M(s),void X("")):(O({open:!0,message:"Invalid file type. Only JPG, JPEG, and PNG are allowed.",severity:"error"}),M(null),void X(""))},H=()=>{B(!1),W(null),M(null)},K=()=>{N(!1),M(null)},L=()=>{P(!1),z(null)};return(0,S.jsxs)(t.A,{children:[(0,S.jsx)(a.A,{variant:"h4",component:"h1",gutterBottom:!0,children:"Banner Images"}),(0,S.jsx)(c.A,{startIcon:(0,S.jsx)(k.A,{}),variant:"contained",color:"primary",onClick:()=>{N(!0)},children:"Add Images"}),(0,S.jsx)(t.A,{className:"set-table",children:(0,S.jsxs)(o.A,{component:d.A,children:[(0,S.jsxs)(h.A,{children:[(0,S.jsx)(x.A,{children:(0,S.jsxs)(A.A,{children:[(0,S.jsx)(j.A,{children:"S No."}),(0,S.jsx)(j.A,{children:"Image Name"}),(0,S.jsx)(j.A,{children:"Image"}),(0,S.jsx)(j.A,{children:"Edit"}),(0,S.jsx)(j.A,{children:"Delete"})]})}),(0,S.jsx)(u.A,{children:e&&e.map(((e,s)=>(0,S.jsxs)(A.A,{children:[(0,S.jsx)(j.A,{children:s+1}),(0,S.jsx)(j.A,{children:e.img_name}),(0,S.jsx)(j.A,{children:(0,S.jsx)("img",{src:e.img_path,alt:e.img_name,style:{maxWidth:"100px"}})}),(0,S.jsx)(j.A,{children:(0,S.jsx)(c.A,{startIcon:(0,S.jsx)(C.A,{}),onClick:()=>{return s=e.id,W(s),void B(!0);var s},children:"Edit"})}),(0,S.jsx)(j.A,{children:(0,S.jsx)(c.A,{startIcon:(0,S.jsx)(f.A,{}),onClick:()=>{return s=e.id,z(s),void P(!0);var s},color:"error",children:"Delete"})})]},e.id)))})]}),(0,S.jsxs)(m.A,{open:b,onClose:H,children:[(0,S.jsx)(g.A,{children:"Edit Banner Image"}),(0,S.jsxs)(p.A,{children:[(0,S.jsx)(y.A,{type:"file",onChange:Z,fullWidth:!0}),U&&(0,S.jsx)(a.A,{color:"error",children:U})]}),(0,S.jsxs)(v.A,{children:[(0,S.jsx)(c.A,{onClick:H,children:"Cancel"}),(0,S.jsx)(c.A,{onClick:async()=>{if(J)try{const e=await(0,i.Z3)(T,J),n=await(0,i.E0)();s(n[0].banner_images),O({open:!0,message:e.message,severity:"success"}),B(!1),W(null),M(null)}catch(I){O({open:!0,message:I.message,severity:"error"})}else X("This field is required")},color:"primary",children:"Update"})]})]}),(0,S.jsxs)(m.A,{open:D,onClose:K,children:[(0,S.jsx)(g.A,{children:"Add Banner Image"}),(0,S.jsxs)(p.A,{children:[(0,S.jsx)(y.A,{type:"file",onChange:Z,name:"banner_img",fullWidth:!0}),U&&(0,S.jsx)(a.A,{color:"error",children:U})]}),(0,S.jsxs)(v.A,{children:[(0,S.jsx)(c.A,{onClick:K,children:"Cancel"}),(0,S.jsx)(c.A,{onClick:async()=>{if(J)try{const e=await(0,i.Xk)(J),n=await(0,i.E0)();s(n[0].banner_images),O({open:!0,message:e.message,severity:"success"}),N(!1),M(null)}catch(I){O({open:!0,message:I.message,severity:"error"})}else X("This field is required")},color:"primary",children:"Add"})]})]}),(0,S.jsxs)(m.A,{open:G,onClose:L,children:[(0,S.jsx)(g.A,{children:"Confirm Delete"}),(0,S.jsx)(p.A,{children:(0,S.jsx)(a.A,{children:"Are you sure you want to delete this image?"})}),(0,S.jsxs)(v.A,{children:[(0,S.jsx)(c.A,{onClick:L,children:"Cancel"}),(0,S.jsx)(c.A,{onClick:async()=>{try{const e=await(0,i.Tx)(q),n=await(0,i.E0)();s(n[0].banner_images),O({open:!0,message:e.message,severity:"success"}),P(!1),z(null)}catch(I){O({open:!0,message:I.message,severity:"error"})}},color:"secondary",children:"Delete"})]})]})]})}),(0,S.jsx)(w.A,{open:F.open,handleClose:()=>{O({...F,open:!1})},alertMessage:F.message,alertSeverity:F.severity})]})}}}]);
//# sourceMappingURL=947.555b5f7c.chunk.js.map